(function(t){function e(e){for(var a,n,p=e[0],u=e[1],o=e[2],c=0,d=[];c<p.length;c++)n=p[c],r[n]&&d.push(r[n][0]),r[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,o||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,p=1;p<s.length;p++){var u=s[p];0!==r[u]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},r={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var p=window["webpackJsonp"]=window["webpackJsonp"]||[],u=p.push.bind(p);p.push=e,p=p.slice();for(var o=0;o<p.length;o++)e(p[o]);var l=u;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("64a9"),r=s.n(a);r.a},"10ab":function(t,e){"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(t){console.log("Service Worker registered! Scope: ".concat(t.scope))}).catch(function(t){console.log("Service Worker registration failed: ".concat(t))})})},5492:function(t,e,s){"use strict";var a=s("e3c9"),r=s.n(a);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("img",{attrs:{alt:"Vue logo",src:s("cf05")}}),a("h3",[t._v("Sélectionner une rubrique")]),a("router-link",{staticClass:"btn btn-secondary m-1",attrs:{to:"suppliersList"}},[t._v("Suppliers List")]),a("router-link",{staticClass:"btn btn-secondary m-1",attrs:{to:"suppliersMap"}},[t._v("Suppliers Map")]),a("router-link",{staticClass:"btn btn-secondary m-1",attrs:{to:"AddSupplier"}},[t._v("Add a Supplier")]),a("hr"),a("router-view",{staticClass:"mt-5"})],1)},i=[],n={name:"app",data:function(){return{loading:!1,errorMsg:""}}},p=n,u=(s("034f"),s("2877")),o=Object(u["a"])(p,r,i,!1,null,null,null),l=o.exports,c=s("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h4",[t._v("Liste des fournisseurs")]),s("div",{staticClass:"input-group mb-3 m-auto",staticStyle:{width:"15rem"}},[t._m(0),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"custom-select",attrs:{id:"inputGroupSelect01"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedFilter=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"all"}},[t._v("All")]),s("option",{domProps:{value:!0}},[t._v("Stock Ok")]),s("option",{domProps:{value:!1}},[t._v("Stock Ko")])])]),s("b-alert",{staticClass:"mt-4",attrs:{show:t.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[s("p",[t._v(t._s(t.successMessage))]),s("b-progress",{attrs:{variant:"success",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1),s("ul",{staticClass:"list-unstyled mt-3"},t._l(t.filteredList,function(t){return s("li",{key:t.id,staticClass:"mb-4"},[s("supplier",{attrs:{id:t.id,name:t.name,latitude:t.latitude,longitude:t.longitude,status:t.status,checkedAt:t.checkedAt}})],1)}),0)],1)},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("label",{staticClass:"input-group-text",attrs:{for:"inputGroupSelect01"}},[t._v("Filtrer...")])])}],v=(s("96cf"),s("3b8d")),f=(s("c5f6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"slide-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDeleted,expression:"!isDeleted"}]},[s("div",{staticClass:"hello"},[s("div",{staticClass:"card ",staticStyle:{width:"20rem",margin:"0 auto"}},[s("div",{staticClass:"card-header ",staticStyle:{background:"#ccc"}},[s("h6",{staticClass:"card-text"},[t._v(t._s(t.name))])]),s("div",{staticClass:"card-body",staticStyle:{background:"#eaeaea"}},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isHidden,expression:"!isHidden"}],staticClass:"mt-3 mb-3"},[s("h6",{class:{green:t.status,red:!t.status}},[t._v("A du stock ? "),t.status?s("b-badge",{attrs:{variant:"success"}},[t._v("OK")]):s("b-badge",{attrs:{variant:"danger"}},[t._v("KO")])],1),s("p",[t._v("Date de dernier relevé des stocks : "+t._s(t.checkedAt))]),s("router-link",{staticClass:"btn btn-sm btn-info m-1",attrs:{to:{name:"editSupplier",params:{supplierId:t.id}}}},[t._v("Edit supplier")]),s("button",{staticClass:"btn btn-sm btn-danger ml-1",on:{click:function(e){return t.deleteSupplier(t.id)}}},[t._v("Delete supplier")]),s("hr"),s("router-link",{staticClass:"btn btn-sm btn-outline-secondary m-1",attrs:{to:{name:"suppliersMap",params:{suppLatitude:t.latitude,suppLongitude:t.longitude}}}},[t._v("Show on map")])],1)]),s("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){t.isHidden=!t.isHidden}}},[t.isHidden?s("span",[t._v("Show")]):t._e(),t.isHidden?t._e():s("span",[t._v("Hide")]),t._v(" details")])],1)])])])])],1)}),h=[],g=s("bc3a"),b={props:{id:String,name:String,latitude:String,longitude:String,status:Boolean,checkedAt:String},data:function(){return{isHidden:!0,isDeleted:!1}},methods:{deleteSupplier:function(t){var e=this;g.delete("https://api-suppliers.herokuapp.com/api/suppliers/"+t,{params:{id:t}}).then(function(){e.isDeleted=!0}).catch(function(t){console.log(t)})}}},S=b,C=(s("5492"),Object(u["a"])(S,f,h,!1,null,"0fe6c974",null)),_=C.exports,L={name:"SuppliersList.vue",components:{Supplier:_},data:function(){return{selectedFilter:"all",suppliersList:{myDatas:[]},dismissSecs:10,dismissCountDown:this.receivedDismissCountDown}},props:{axiosSuccess:Boolean,successMessage:String,receivedDismissCountDown:Number},methods:{countDownChanged:function(t){this.dismissCountDown=t}},computed:{filteredList:function(){var t=this,e=t.selectedFilter;return"all"===e?t.suppliersList.myDatas:t.suppliersList.myDatas.filter(function(t){return t.status===e})}},mounted:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$root.axiosCall(!0,this.suppliersList);case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},w=L,y=Object(u["a"])(w,d,m,!1,null,"5b49bf70",null),k=y.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h4",[t._v("Carte des fournisseurs")]),s("gmap-map",{staticStyle:{width:"100%",height:"800px"},attrs:{center:{lat:t.currPosition.latitude,lng:t.currPosition.longitude},zoom:7}},t._l(t.suppliersList.myDatas,function(e,a){return s("GmapMarker",{key:a,attrs:{position:{lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)},title:e.name,clickable:!0,draggable:!1},on:{click:function(s){t.center={lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)}}}})}),1)],1)},N=[],D={name:"SuppliersMap.vue",props:{suppLatitude:String,suppLongitude:String},data:function(){return{currPosition:{latitude:0,longitude:0},suppliersList:{myDatas:[]}}},beforeCreate:function(){},created:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:void 0!==this.suppLatitude?(this.currPosition.latitude=parseFloat(this.suppLatitude),this.currPosition.longitude=parseFloat(this.suppLongitude)):navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){e.currPosition=t.coords}),this.$root.axiosCall(!0,this.suppliersList);case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},P=D,E=Object(u["a"])(P,x,N,!1,null,"a3a41caa",null),O=E.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-5 mt-3"},[s("h4",[t._v("Add a supplier")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.axiosError,expression:"axiosError"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("An error occurred attempting to create the supplier")]),s("form",{staticClass:"text-left",attrs:{id:"creatSupp"},on:{submit:t.checkForm}},[s("div",{staticClass:"form-group mt-2"},[s("label",{attrs:{for:"suppName"}},[t._v("Supplier Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppName,expression:"suppName"}],staticClass:"form-control",attrs:{type:"text",id:"suppName","aria-describedby":"suppName",placeholder:"Enter supplier's name"},domProps:{value:t.suppName},on:{input:function(e){e.target.composing||(t.suppName=e.target.value)}}})]),s("div",{staticClass:"form-group mt-5"},[t._v("\n                    Stock :\n                    "),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppStatus,expression:"suppStatus"}],staticClass:"form-check-input",attrs:{type:"radio",name:"suppStatus",id:"suppStatus1",selected:!0},domProps:{value:!0,checked:t._q(t.suppStatus,!0)},on:{change:function(e){t.suppStatus=!0}}}),s("label",{staticClass:"form-check-label",attrs:{for:"suppStatus1"}},[t._v("\n                            True\n                        ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppStatus,expression:"suppStatus"}],staticClass:"form-check-input",attrs:{type:"radio",name:"suppStatus",id:"suppStatus2"},domProps:{value:!1,checked:t._q(t.suppStatus,!1)},on:{change:function(e){t.suppStatus=!1}}}),s("label",{staticClass:"form-check-label",attrs:{for:"suppStatus2"}},[t._v("\n                            false\n                        ")])])]),s("div",{staticClass:"form-group mt-5"},[s("label",{attrs:{for:"suppLat"}},[t._v("Latitude")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppLat,expression:"suppLat"}],staticClass:"form-control",attrs:{type:"text",id:"suppLat","aria-describedby":"suppLat",placeholder:"Enter supplier's latitude"},domProps:{value:t.suppLat},on:{input:function(e){e.target.composing||(t.suppLat=e.target.value)}}})]),s("div",{staticClass:"form-group mt-5"},[s("label",{attrs:{for:"suppLng"}},[t._v("Longitude")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppLng,expression:"suppLng"}],staticClass:"form-control",attrs:{type:"text",id:"suppLng","aria-describedby":"suppLng",placeholder:"Enter supplier's longitude"},domProps:{value:t.suppLng},on:{input:function(e){e.target.composing||(t.suppLng=e.target.value)}}})]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])])])])])},A=[],M=s("bc3a"),F={props:{},data:function(){return{axiosSuccess:!1,axiosError:!1,errors:[],suppName:null,suppStatus:null,suppLat:null,suppLng:null}},methods:{checkForm:function(t){this.errors=[],this.suppName||this.errors.push("Please set a supplier name."),this.suppLat||this.errors.push("Please set a supplier latitude."),this.suppLng||this.errors.push("Please set a supplier longitude."),t.preventDefault(),this.errors.length<1?this.postSupplier():console.log("error end "+this.errors)},postSupplier:function(){var t=new Date;M.post("https://api-suppliers.herokuapp.com/api/suppliers",{name:this.suppName,checkedAt:t.toISOString(),status:this.suppStatus,latitude:this.suppLat,longitude:this.suppLng}).then(function(){z.push({name:"suppliersList",params:{axiosSuccess:!0,successMessage:"Supplier created successfully ",receivedDismissCountDown:10}})}).catch(function(t){console.log(t)})}}},$=F,I=Object(u["a"])($,j,A,!1,null,"d4db6144",null),H=I.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-5 mt-3"},[s("h4",[t._v("Edit a supplier")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.axiosError,expression:"axiosError"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("An error occurred attempting to create the supplier")]),s("form",{staticClass:"text-left",attrs:{id:"creatSupp"},on:{submit:t.checkForm}},[s("div",{staticClass:"form-group mt-2"},[s("label",{attrs:{for:"suppName"}},[t._v("Supplier Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppName,expression:"suppName"}],staticClass:"form-control",attrs:{type:"text",id:"suppName","aria-describedby":"suppName",placeholder:"Enter supplier's name"},domProps:{value:t.suppName},on:{input:function(e){e.target.composing||(t.suppName=e.target.value)}}})]),s("div",{staticClass:"form-group mt-5"},[t._v("\n                    Stock :\n                    "),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppStatus,expression:"suppStatus"}],staticClass:"form-check-input",attrs:{type:"radio",name:"suppStatus",id:"suppStatus1",selected:!0},domProps:{value:!0,checked:t._q(t.suppStatus,!0)},on:{change:function(e){t.suppStatus=!0}}}),s("label",{staticClass:"form-check-label",attrs:{for:"suppStatus1"}},[t._v(" True ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppStatus,expression:"suppStatus"}],staticClass:"form-check-input",attrs:{type:"radio",name:"suppStatus",id:"suppStatus2"},domProps:{value:!1,checked:t._q(t.suppStatus,!1)},on:{change:function(e){t.suppStatus=!1}}}),s("label",{staticClass:"form-check-label",attrs:{for:"suppStatus2"}},[t._v(" false ")])])]),s("div",{staticClass:"form-group mt-5"},[s("label",{attrs:{for:"suppLat"}},[t._v("Latitude")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppLat,expression:"suppLat"}],staticClass:"form-control",attrs:{type:"text",id:"suppLat","aria-describedby":"suppLat",placeholder:"Enter supplier's latitude"},domProps:{value:t.suppLat},on:{input:function(e){e.target.composing||(t.suppLat=e.target.value)}}})]),s("div",{staticClass:"form-group mt-5"},[s("label",{attrs:{for:"suppLng"}},[t._v("Longitude")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.suppLng,expression:"suppLng"}],staticClass:"form-control",attrs:{type:"text",id:"suppLng","aria-describedby":"suppLng",placeholder:"Enter supplier's longitude"},domProps:{value:t.suppLng},on:{input:function(e){e.target.composing||(t.suppLng=e.target.value)}}})]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Update")])])])])])},q=[],R=(s("7f7f"),s("bc3a")),K={props:{supplierId:String},data:function(){return{axiosSuccess:!1,axiosError:!1,errors:[],suppName:null,suppStatus:null,suppLat:null,suppLng:null}},methods:{checkForm:function(t){this.errors=[],this.suppName||this.errors.push("Please set a supplier name."),this.suppLat||this.errors.push("Please set a supplier latitude."),this.suppLng||this.errors.push("Please set a supplier longitude."),t.preventDefault(),this.errors.length<1?this.postSupplier(this.supplierId):console.log("error end "+this.errors)},postSupplier:function(t){var e=new Date;R.put("https://api-suppliers.herokuapp.com/api/suppliers/"+t,{name:this.suppName,checkedAt:e.toISOString(),status:this.suppStatus,latitude:this.suppLat,longitude:this.suppLng},{params:{id:t}}).then(function(){z.push({name:"suppliersList",params:{axiosSuccess:!0,successMessage:"Supplier edited successfully",receivedDismissCountDown:10}})}).catch(function(t){console.log(t)})}},created:function(){var t=this;R.get("https://api-suppliers.herokuapp.com/api/suppliers/"+t.supplierId,{}).then(function(e){t.suppName=e.data.name,t.suppStatus=e.data.status,t.suppLat=e.data.latitude,t.suppLng=e.data.longitude}).catch(function(t){console.log(t)})}},W=K,G=Object(u["a"])(W,T,q,!1,null,"544315a3",null),J=G.exports;a["default"].use(c["a"]);var z=new c["a"]({routes:[{path:"/suppliersList",name:"suppliersList",component:k,props:!0},{path:"/suppliersMap",name:"suppliersMap",component:O,props:!0},{path:"/supplier",name:"supplier",component:_,props:!0},{path:"/AddSupplier",name:"addSupplier",component:H,props:!0},{path:"/EditSupplier/:supplierId",name:"editSupplier",component:J,props:!0}]}),B=s("755e"),U=(s("10ab"),s("9f7b")),Q=s.n(U),V=(s("f9e3"),s("2dd8"),s("bc3a"));a["default"].use(B,{load:{key:"AIzaSyDgQRHUsMFvtkiM91rlD3TJKNyumP0tSn8"}}),a["default"].use(Q.a),a["default"].config.productionTip=!1,new a["default"]({router:z,render:function(t){return t(l)},methods:{axiosCall:function(t,e){var s=this;console.log("Axios call !"),V.get("https://api-suppliers.herokuapp.com/api/suppliers").then(function(a){t?e.myDatas=a.data:s.$root.$Suppliers=a.data}).catch(function(t){s.$root.$Suppliers=localStorage.getItem("API-cache"),console.log(t)})}}}).$mount("#app")},"64a9":function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.82b9c7a5.png"},e3c9:function(t,e,s){}});
//# sourceMappingURL=app.78e34967.js.map